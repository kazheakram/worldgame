<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Country Typing Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS for the Dark Blue Theme and Poppins Font */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a202c; /* Dark blue background */
            color: #e2e8f0; /* Light gray text */
            display: flex;
            justify-content: center;
            align-items: center; /* Center vertically for a compact widget */
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            line-height: 1.6;
        }

        .game-container {
            background-color: #2d3748; /* Slightly lighter dark blue for container */
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-align: center;
            width: 100%;
            max-width: 500px; /* Make it a bit narrower for a widget feel */
        }

        h1 {
            color: #63b3ed; /* A nice blue for the heading */
            margin-bottom: 20px;
            font-weight: 700;
        }

        .timer, .country-count {
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        #country-input {
            width: calc(100% - 20px);
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #4a5568;
            border-radius: 5px;
            background-color: #4a5568;
            color: #e2e8f0;
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box;
        }

        #country-input::placeholder {
            color: #a0aec0;
        }

        .feedback {
            min-height: 1.5em; /* To prevent layout shift */
            margin-bottom: 15px;
            font-weight: bold;
        }

        .feedback.correct {
            color: #48bb78; /* Green for correct */
        }

        .feedback.incorrect {
            color: #f56565; /* Red for incorrect */
        }

        button {
            background-color: #63b3ed; /* Button primary color */
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            margin: 0 5px;
            font-weight: 600;
        }

        button:hover {
            background-color: #4299e1; /* Darker blue on hover */
        }

        button:disabled {
            background-color: #a0aec0;
            cursor: not-allowed;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Type the Countries Chanel!</h1>
        <div class="timer">Time: <span id="time-display">00:00</span></div>
        <div class="country-count">Found: <span id="found-count">0</span> / <span id="total-count"></span></div>
        <input type="text" id="country-input" placeholder="Start typing country names..." autofocus disabled>
        <div id="feedback-message" class="feedback"></div>
        <button id="start-button">Start Game</button>
        <button id="reset-button" style="display:none;">Reset Game</button>
    </div>

    <script>
        const countryInput = document.getElementById('country-input');
        const feedbackMessage = document.getElementById('feedback-message');
        const timeDisplay = document.getElementById('time-display');
        const foundCountDisplay = document.getElementById('found-count');
        const totalCountDisplay = document.getElementById('total-count');
        const startButton = document.getElementById('start-button');
        const resetButton = document.getElementById('reset-button');

        let allCountries = []; // This will store our country data
        let foundCountries = new Set();
        let startTime;
        let timerInterval;
        let gameRunning = false;

        // Comprehensive list of countries for the game
        const countryData = [
            { name: "Afghanistan", iso: "AF" }, { name: "Albania", iso: "AL" }, { name: "Algeria", iso: "DZ" },
            { name: "Andorra", iso: "AD" }, { name: "Angola", iso: "AO" }, { name: "Antigua and Barbuda", iso: "AG" },
            { name: "Argentina", iso: "AR" }, { name: "Armenia", iso: "AM" }, { name: "Australia", iso: "AU" },
            { name: "Austria", iso: "AT" }, { name: "Azerbaijan", iso: "AZ" }, { name: "Bahamas", iso: "BS" },
            { name: "Bahrain", iso: "BH" }, { name: "Bangladesh", iso: "BD" }, { name: "Barbados", iso: "BB" },
            { name: "Belarus", iso: "BY" }, { name: "Belgium", iso: "BE" }, { name: "Belize", iso: "BZ" },
            { name: "Benin", iso: "BJ" }, { name: "Bhutan", iso: "BT" }, { name: "Bolivia", iso: "BO" },
            { name: "Bosnia and Herzegovina", iso: "BA" }, { name: "Botswana", iso: "BW" }, { name: "Brazil", iso: "BR" },
            { name: "Brunei", iso: "BN" }, { name: "Bulgaria", iso: "BG" }, { name: "Burkina Faso", iso: "BF" },
            { name: "Burundi", iso: "BI" }, { name: "Cabo Verde", iso: "CV" }, { name: "Cambodia", iso: "KH" },
            { name: "Cameroon", iso: "CM" }, { name: "Canada", iso: "CA" }, { name: "Central African Republic", iso: "CF" },
            { name: "Chad", iso: "TD" }, { name: "Chile", iso: "CL" }, { name: "China", iso: "CN" },
            { name: "Colombia", iso: "CO" }, { name: "Comoros", iso: "KM" }, { name: "Congo, Dem. Rep.", iso: "CD" },
            { name: "Congo, Rep.", iso: "CG" }, { name: "Costa Rica", iso: "CR" }, { name: "Croatia", iso: "HR" },
            { name: "Cuba", iso: "CU" }, { name: "Cyprus", iso: "CY" }, { name: "Czechia", iso: "CZ" },
            { name: "Denmark", iso: "DK" }, { name: "Djibouti", iso: "DJ" }, { name: "Dominica", iso: "DM" },
            { name: "Dominican Republic", iso: "DO" }, { name: "Ecuador", iso: "EC" }, { name: "Egypt", iso: "EG" },
            { name: "El Salvador", iso: "SV" }, { name: "Equatorial Guinea", iso: "GQ" }, { name: "Eritrea", iso: "ER" },
            { name: "Estonia", iso: "EE" }, { name: "Eswatini", iso: "SZ" }, { name: "Ethiopia", iso: "ET" },
            { name: "Fiji", iso: "FJ" }, { name: "Finland", iso: "FI" }, { name: "France", iso: "FR" },
            { name: "Gabon", iso: "GA" }, { name: "Gambia", iso: "GM" }, { name: "Georgia", iso: "GE" },
            { name: "Germany", iso: "DE" }, { name: "Ghana", iso: "GH" }, { name: "Greece", iso: "GR" },
            { name: "Grenada", iso: "GD" }, { name: "Guatemala", iso: "GT" }, { name: "Guinea", iso: "GN" },
            { name: "Guinea-Bissau", iso: "GW" }, { name: "Guyana", iso: "GY" }, { name: "Haiti", iso: "HT" },
            { name: "Honduras", iso: "HN" }, { name: "Hungary", iso: "HU" }, { name: "Iceland", iso: "IS" },
            { name: "India", iso: "IN" }, { name: "Indonesia", iso: "ID" }, { name: "Iran", iso: "IR" },
            { name: "Iraq", iso: "IQ" }, { name: "Ireland", iso: "IE" }, { name: "Israel", iso: "IL" },
            { name: "Italy", iso: "IT" }, { name: "Ivory Coast", iso: "CI" }, { name: "Jamaica", iso: "JM" },
            { name: "Japan", iso: "JP" }, { name: "Jordan", iso: "JO" }, { name: "Kazakhstan", iso: "KZ" },
            { name: "Kenya", iso: "KE" }, { name: "Kiribati", iso: "KI" }, { name: "Korea, North", iso: "KP" },
            { name: "Korea, South", iso: "KR" }, { name: "Kosovo", iso: "XK" }, { name: "Kuwait", iso: "KW" },
            { name: "Kyrgyzstan", iso: "KG" }, { name: "Laos", iso: "LA" }, { name: "Latvia", iso: "LV" },
            { name: "Lebanon", iso: "LB" }, { name: "Lesotho", iso: "LS" }, { name: "Liberia", iso: "LR" },
            { name: "Libya", iso: "LY" }, { name: "Liechtenstein", iso: "LI" }, { name: "Lithuania", iso: "LT" },
            { name: "Luxembourg", iso: "LU" }, { name: "Madagascar", iso: "MG" }, { name: "Malawi", iso: "MW" },
            { name: "Malaysia", iso: "MY" }, { name: "Maldives", iso: "MV" }, { name: "Malawi", iso: "MW" },
            { name: "Malta", iso: "MT" }, { name: "Marshall Islands", iso: "MH" }, { name: "Mauritania", iso: "MR" },
            { name: "Mauritius", iso: "MU" }, { name: "Mexico", iso: "MX" }, { name: "Micronesia", iso: "FM" },
            { name: "Moldova", iso: "MD" }, { name: "Monaco", iso: "MC" }, { name: "Mongolia", iso: "MN" },
            { name: "Montenegro", iso: "ME" }, { name: "Morocco", iso: "MA" }, { name: "Mozambique", iso: "MZ" },
            { name: "Myanmar", iso: "MM" }, { name: "Namibia", iso: "NA" }, { name: "Nauru", iso: "NR" },
            { name: "Nepal", iso: "NP" }, { name: "Netherlands", iso: "NL" }, { name: "New Zealand", iso: "NZ" },
            { name: "Nicaragua", iso: "NI" }, { name: "Niger", iso: "NE" }, { name: "Nigeria", iso: "NG" },
            { name: "North Macedonia", iso: "MK" }, { name: "Norway", iso: "NO" }, { name: "Oman", iso: "OM" },
            { name: "Pakistan", iso: "PK" }, { name: "Palau", iso: "PW" }, { name: "Palestine", iso: "PS" },
            { name: "Panama", iso: "PA" }, { name: "Papua New Guinea", iso: "PG" }, { name: "Paraguay", iso: "PY" },
            { name: "Peru", iso: "PE" }, { name: "Philippines", iso: "PH" }, { name: "Poland", iso: "PL" },
            { name: "Portugal", iso: "PT" }, { name: "Qatar", iso: "QA" }, { name: "Romania", iso: "RO" },
            { name: "Russia", iso: "RU" }, { name: "Rwanda", iso: "RW" }, { name: "Saint Kitts and Nevis", iso: "KN" },
            { name: "Saint Lucia", iso: "LC" }, { name: "Saint Vincent and the Grenadines", iso: "VC" }, { name: "Samoa", iso: "WS" },
            { name: "San Marino", iso: "SM" }, { name: "Sao Tome and Principe", iso: "ST" }, { name: "Saudi Arabia", iso: "SA" },
            { name: "Senegal", iso: "SN" }, { name: "Serbia", iso: "RS" }, { name: "Seychelles", iso: "SC" },
            { name: "Sierra Leone", iso: "SL" }, { name: "Singapore", iso: "SG" }, { name: "Slovakia", iso: "SK" },
            { name: "Slovenia", iso: "SI" }, { name: "Solomon Islands", iso: "SB" }, { name: "Somalia", iso: "SO" },
            { name: "South Africa", iso: "ZA" }, { name: "South Sudan", iso: "SS" }, { name: "Spain", iso: "ES" },
            { name: "Sri Lanka", iso: "LK" }, { name: "Sudan", iso: "SD" }, { name: "Suriname", iso: "SR" },
            { name: "Sweden", iso: "SE" }, { name: "Switzerland", iso: "CH" }, { name: "Syria", iso: "SY" },
            { name: "Taiwan", iso: "TW" }, { name: "Tajikistan", iso: "TJ" }, { name: "Tanzania", iso: "TZ" },
            { name: "Thailand", iso: "TH" }, { name: "Timor-Leste", iso: "TL" }, { name: "Togo", iso: "TG" },
            { name: "Tonga", iso: "TO" }, { name: "Trinidad and Tobago", iso: "TT" }, { name: "Tunisia", iso: "TN" },
            { name: "Turkey", iso: "TR" }, { name: "Turkmenistan", iso: "TM" }, { name: "Tuvalu", iso: "TV" },
            { name: "Uganda", iso: "UG" }, { name: "Ukraine", iso: "UA" }, { name: "United Arab Emirates", iso: "AE" },
            { name: "United Kingdom", iso: "GB" }, { name: "United States", iso: "US" }, { name: "Uruguay", iso: "UY" },
            { name: "Uzbekistan", iso: "UZ" }, { name: "Vanuatu", iso: "VU" }, { name: "Vatican City", iso: "VA" },
            { name: "Venezuela", iso: "VE" }, { name: "Vietnam", iso: "VN" }, { name: "Yemen", iso: "YE" },
            { name: "Zambia", iso: "ZM" }, { name: "Zimbabwe", iso: "ZW" }
        ];

        // Mappings for common aliases to their official names (lowercase)
        const countryAliases = {
            "usa": "United States",
            "uk": "United Kingdom",
            "drc": "Congo, Dem. Rep.",
            "congo dem rep": "Congo, Dem. Rep.",
            "congo rep": "Congo, Rep.",
            "ivory coast": "Ivory Coast",
            "north korea": "Korea, North",
            "south korea": "Korea, South",
            "eswatini": "Eswatini",
            "myanmar": "Myanmar",
            "palestine": "Palestine",
            "russia": "Russia",
            "tanzania": "Tanzania",
            "turkey": "Turkey",
            "uae": "United Arab Emirates",
            "vatican": "Vatican City",
            "east timor": "Timor-Leste",
            "saint kitts": "Saint Kitts and Nevis",
            "saint lucia": "Saint Lucia",
            "saint vincent": "Saint Vincent and the Grenadines",
            "macedonia": "North Macedonia",
            "czech republic": "Czechia",
            "republic of the congo": "Congo, Rep.",
            "democratic republic of the congo": "Congo, Dem. Rep.",
            "timor leste": "Timor-Leste"
        };

        // Create lookup maps for efficient access
        const countryNameToIso = new Map();
        const allCountryNamesLower = new Set();

        function initializeGameData() {
            countryData.forEach(country => {
                const lowerName = country.name.toLowerCase();
                allCountries.push({ name: lowerName, iso: country.iso });
                countryNameToIso.set(lowerName, country.iso); // Still useful for internal lookups
                allCountryNamesLower.add(lowerName);
            });

            // Add aliases to the allCountryNamesLower set so they are recognized as valid inputs
            for (const alias in countryAliases) {
                allCountryNamesLower.add(alias);
            }

            totalCountDisplay.textContent = countryData.length;
        }

        function startGame() {
            if (gameRunning) return;

            gameRunning = true;
            foundCountries.clear();
            foundCountDisplay.textContent = 0;
            countryInput.value = '';
            feedbackMessage.textContent = '';
            startButton.style.display = 'none';
            resetButton.style.display = 'inline-block';
            countryInput.disabled = false;
            countryInput.focus();

            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);
        }

        function endGame() {
            gameRunning = false;
            clearInterval(timerInterval);
            countryInput.disabled = true;
            feedbackMessage.textContent = `Congratulations! You found all ${countryData.length} countries in ${timeDisplay.textContent}!`;
            feedbackMessage.className = 'feedback correct';
            resetButton.textContent = 'Play Again';

            // Custom pop-up message!
            setTimeout(() => { // Small delay to allow feedback message to appear first
                alert("Good job Chanel, love you lots <3");
            }, 100);
        }

        function updateTimer() {
            const elapsedTime = Date.now() - startTime;
            const minutes = Math.floor(elapsedTime / 60000);
            const seconds = Math.floor((elapsedTime % 60000) / 1000);
            timeDisplay.textContent =
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function checkCountry() {
            const rawInputText = countryInput.value.trim();
            const lowerCaseInput = rawInputText.toLowerCase();
            countryInput.value = ''; // Clear input after submission

            if (!gameRunning) return;

            if (lowerCaseInput === '') {
                feedbackMessage.textContent = '';
                return;
            }

            let officialCountryNameLower = null;

            // 1. Check if direct match with official country names
            if (countryNameToIso.has(lowerCaseInput)) {
                officialCountryNameLower = lowerCaseInput;
            }
            // 2. Check if it's an alias
            else if (countryAliases[lowerCaseInput]) {
                officialCountryNameLower = countryAliases[lowerCaseInput].toLowerCase();
            }

            if (officialCountryNameLower) {
                if (!foundCountries.has(officialCountryNameLower)) {
                    foundCountries.add(officialCountryNameLower);
                    feedbackMessage.textContent = `"${officialCountryNameLower.toUpperCase()}" found!`;
                    feedbackMessage.className = 'feedback correct';
                    foundCountDisplay.textContent = foundCountries.size;

                    if (foundCountries.size === countryData.length) {
                        endGame();
                    }
                } else {
                    feedbackMessage.textContent = `"${rawInputText.toUpperCase()}" already found!`;
                    feedbackMessage.className = 'feedback incorrect';
                }
            } else {
                feedbackMessage.textContent = `"${rawInputText.toUpperCase()}" is not a recognized country.`;
                feedbackMessage.className = 'feedback incorrect';
            }
        }

        function resetGame() {
            clearInterval(timerInterval);
            gameRunning = false;
            foundCountries.clear();
            foundCountDisplay.textContent = 0;
            timeDisplay.textContent = '00:00';
            countryInput.value = '';
            feedbackMessage.textContent = '';
            countryInput.disabled = true;
            startButton.style.display = 'inline-block';
            resetButton.style.display = 'none';
            resetButton.textContent = 'Reset Game';
        }

        // --- Event Listeners ---
        startButton.addEventListener('click', startGame);
        resetButton.addEventListener('click', resetGame);
        countryInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                checkCountry();
            }
        });

        // Initialize the game when the page loads
        initializeGameData();
        resetGame(); // Set initial state
    </script>
</body>
</html>
